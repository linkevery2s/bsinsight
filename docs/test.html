<!DOCTYPE html>
<html lang="ja">
<head><meta charset="utf-8"><title>test</title>

<script src ="https://cdnjs.cloudflare.com/ajax/libs/fetch/3.0.0/fetch.min.js"></script>

<script type="text/javascript">
function test(){
const url ="https://www.data.jma.go.jp/developer/xml/feed/eqvol_l.xml";

fetch(url)
	.then(res => res.text())
	.then(textData => {
		let parser = new DOMParser();
		let xmlData = parser.parseFromString(textData, "text/xml");
		
		//var ttt = xmlData.getElementsByTagName("entry")[0].getElementsByTagName("content")[0].childNodes[0].nodeValue;
		
		var ttt = xmlData.getElementsByTagName("entry")[0].getElementsByTagName("link")[0].getAttribute("href");
		
			const url2 = ttt;
			
			fetch(url2)
				.then(res => res.text())
				.then(textData => {
					let parser = new DOMParser();
					let xmlData = parser.parseFromString(textData, "text/xml");
					var tt = xmlData.getElementsByTagName("Headline")[0].getElementsByTagName("Text")[0].childNodes[0].nodeValue;
						document.getElementById("result").innerHTML += tt;
					
					var xx = xmlData.getElementsByTagName("Information")[1].getElementsByTagName("Areas")[0].childElementCount;
					
					for ( var i = 0; i < xx; i++){
					
						var tt2 = xmlData.getElementsByTagName("Information")[1].getElementsByTagName("Areas")[0].getElementsByTagName("Area")[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue;
					
						document.getElementById("result").innerHTML += "<br>" + tt2;
					}
			
			});
		
		//for (var i = 1; i < 9; i++){
		
			//ttt += "<br><br>" + xmlData.getElementsByTagName("entry")[i].getElementsByTagName("content")[0].childNodes[0].nodeValue;
		
		//}
		
		

	});
};
</script>


</head>

<body>
<h3>火山情報テスト</h3>

<input type="button" id="test" value="test" onclick="test()"><br><br>

<div id="result">

</body>

</html>