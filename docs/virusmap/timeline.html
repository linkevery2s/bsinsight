<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>日本情勢</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
<style>
*,
*::before,
*::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

button {
  background: transparent;
  border: none;
  cursor: pointer;
  outline: none;
}

body {
  font: normal 16px/1.5 "Helvetica Neue", sans-serif;
  background: #456990;
  color: #fff;
}


/* .section SECTION
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.section {
  background: #F45B69;
  padding: 50px 0;
}

.section .container {
  width: 90%;
  max-width: 1200px;
  margin: 0 auto;
  text-align: center;
}

.section h1 {
  font-size: 2.5rem;
}

.section h2 {
  font-size: 1.3rem;
}


/* TIMELINE
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.timeline {
  white-space: nowrap;
  overflow-x: hidden;
}

.timeline ol {
  font-size: 0;
  width: 100vw;
  padding: 250px 0;
  transition: all 1s;
}

.timeline ol li {
  position: relative;
  display: inline-block;
  list-style-type: none;
  width: 160px;
  height: 3px;
  background: #fff;
}

.timeline ol li:last-child {
  width: 280px;
}

.timeline ol li:not(:first-child) {
  margin-left: 14px;
}

.timeline ol li:not(:last-child)::after {
  content: '';
  position: absolute;
  top: 50%;
  left: calc(100% + 1px);
  bottom: 0;
  width: 12px;
  height: 12px;
  transform: translateY(-50%);
  border-radius: 50%;
  background: #F45B69;
}

.timeline ol li div {
  position: absolute;
  left: calc(100% + 7px);
  width: 280px;
  padding: 15px;
  font-size: 1rem;
  white-space: normal;
  color: black;
  background: white;
}

.timeline ol li div::before {
  content: '';
  position: absolute;
  top: 100%;
  left: 0;
  width: 0;
  height: 0;
  border-style: solid;
}

.timeline ol li:nth-child(odd) div {
  top: -16px;
  transform: translateY(-100%);
}

.timeline ol li:nth-child(odd) div::before {
  top: 100%;
  border-width: 8px 8px 0 0;
  border-color: white transparent transparent transparent;
}

.timeline ol li:nth-child(even) div {
  top: calc(100% + 16px);
}

.timeline ol li:nth-child(even) div::before {
  top: -8px;
  border-width: 8px 0 0 8px;
  border-color: transparent transparent transparent white;
}

.timeline time {
  display: block;
  font-size: 1.2rem;
  font-weight: bold;
  margin-bottom: 8px;
}


/* TIMELINE ARROWS
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.timeline .arrows {
  display: flex;
  justify-content: center;
  margin-bottom: 20px;
}

.timeline .arrows .arrow__prev {
  margin-right: 20px;
}

.timeline .disabled {
  opacity: .5;
}

.timeline .arrows img {
  width: 45px;
  height: 45px;
}


/* GENERAL MEDIA QUERIES
–––––––––––––––––––––––––––––––––––––––––––––––––– */
@media screen and (max-width: 599px) {
  .timeline ol,
  .timeline ol li {
    width: auto; 
  }
  
  .timeline ol {
    padding: 0;
    transform: none !important;
  }
  
  .timeline ol li {
    display: block;
    height: auto;
    background: transparent;
  }
  
  .timeline ol li:first-child {
    margin-top: 25px;
  }
  
  .timeline ol li:not(:first-child) {
    margin-left: auto;
  }
  
  .timeline ol li div {
    width: 94%;
    height: auto !important;
    margin: 0 auto 25px;
  }
  
  .timeline ol li div {
    position: static;
  }
  
  .timeline ol li:nth-child(odd) div {
    transform: none;
  }
  
  .timeline ol li:nth-child(odd) div::before,
  .timeline ol li:nth-child(even) div::before {
    left: 50%;
    top: 100%;
    transform: translateX(-50%);
    border: none;
    border-left: 1px solid white;
    height: 25px;
  }
  
  .timeline ol li:last-child,
  .timeline ol li:nth-last-child(2) div::before,
  .timeline ol li:not(:last-child)::after,
  .timeline .arrows {
    display: none;
  }
}
</style>

  
</head>

<body>

<section class="timeline">
  <ol>
    <li>
      <div>
        <time>1.15</time> 国内で初の感染者発生
        <br><br><a href="https://www.mhlw.go.jp/stf/newpage_08906.html" target="_blank">厚生労働省 報道発表 <i class="fas fa-external-link-alt"></i></a>
      </div>
    </li>
    <li>
      <div>
        <time>2.3</time> クルーズ船「ダイヤモンド・プリンセス」が横浜に停泊、検疫が始まる
      </div>
    </li>
    <li>
      <div>
        <time>2.13</time> 国内で新型コロナウイルスによる肺炎死亡が判明
        <br><br><a href="https://www.mhlw.go.jp/stf/newpage_09531.html" target="_blank">厚生労働省 報道発表 <i class="fas fa-external-link-alt"></i></a>
      </div>
    </li>
    <li>
      <div>
        <time>2.26</time> 首相、全国のイベント自粛を表明
        <br><br><a href="https://www.kantei.go.jp/jp/98_abe/actions/202002/26corona.html" target="_blank">新型コロナウイルス感染症対策本部（第１４回） <i class="fas fa-external-link-alt"></i></a>
      </div>
    </li>
    <li>
      <div>
        <time>2.27</time> 首相、全国の小中学校、特別支援学校の臨時休校の要請
        <br><br><a href="https://www.kantei.go.jp/jp/98_abe/actions/202002/27corona.html" target="_blank">新型コロナウイルス感染症対策本部（第１５回） <i class="fas fa-external-link-alt"></i></a>

      </div>
    </li>
    <li>
      <div>
        <time>2.28</time> 北海道知事、非常事態宣言発令
        <br><br><a href="http://www.pref.hokkaido.lg.jp/ss/tkk/hodo/pressconference/r1/r20228gpc.htm" target="_blank">知事臨時記者会見 <i class="fas fa-external-link-alt"></i></a>
      </div>
    </li>
    <li>
      <div>
        <time>3.5</time> 首相、マスクの転売を禁止に
        <br><br><a href="https://www.kantei.go.jp/jp/98_abe/actions/202003/05corona.html" target="_blank">新型コロナウイルス感染症対策本部（第１７回） <i class="fas fa-external-link-alt"></i></a>
      </div>
    </li>
    <li>
      <div>
        <time>3.11</time> WHO、「パンデミック（世界的大流行）」と判断
        <br><br><a href="https://www3.nhk.or.jp/news/html/20200312/k10012326751000.html" target="_blank">NHKニュース <i class="fas fa-external-link-alt"></i></a>
      </div>
    </li>
    <li>
      <div>
        <time>3.24</time> 五輪、パラリンピックを1年程度延期
        <br><br><a href="https://www.kantei.go.jp/jp/98_abe/actions/202003/24bura.html" target="_blank">国際オリンピック委員会（ＩＯＣ）バッハ会長との電話会談についての会見 <i class="fas fa-external-link-alt"></i></a>
      </div>
    </li>
    <li>
      <div>
        <time>3.25</time> 東京都知事「感染爆発 重大局面」とし、週末や夜間のが委縮自粛を要請
        <br><br><a href="https://www.metro.tokyo.lg.jp/tosei/governor/governor/kishakaiken/2020/03/25.html" target="_blank">小池知事「知事の部屋」／記者会見（令和2年3月25日） <i class="fas fa-external-link-alt"></i></a>
      </div>
    </li>
    <li>
      <div>
        <time>4.7</time> 首相、7都府県に非常事態宣言発令
        <br><br><a href="https://www.kantei.go.jp/jp/98_abe/actions/202004/07corona.html" target="_blank">新型コロナウイルス感染症対策本部（第２７回） <i class="fas fa-external-link-alt"></i></a>
      </div>
    </li>
    <li>
      <div>
        <time>4.10</time> 愛知、岐阜、三重<br>独自の緊急事態宣言発令
        <br><br><a href="https://www.pref.aichi.jp/soshiki/bosai/covid19-aichi.html" target="_blank">愛知県 <i class="fas fa-external-link-alt"></i></a>
		<br><a href="https://www.pref.mie.lg.jp/YAKUMUS/HP/m0068000067_00012.htm" target="_blank">三重県 <i class="fas fa-external-link-alt"></i></a>
        
      </div>
    </li>
	<li></li>
  </ol>
  
  <div class="arrows">
    <button class="arrow arrow__prev disabled" disabled>
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/162656/arrow_prev.svg" alt="prev timeline arrow">
    </button>
    <button class="arrow arrow__next">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/162656/arrow_next.svg" alt="next timeline arrow">
    </button>
  </div>
</section>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js'></script>

    <script>
"use strict";

(function () {

  // VARIABLES
  var timeline = document.querySelector(".timeline ol"),
      elH = document.querySelectorAll(".timeline li > div"),
      arrows = document.querySelectorAll(".timeline .arrows .arrow"),
      arrowPrev = document.querySelector(".timeline .arrows .arrow__prev"),
      arrowNext = document.querySelector(".timeline .arrows .arrow__next"),
      firstItem = document.querySelector(".timeline li:first-child"),
      lastItem = document.querySelector(".timeline li:last-child"),
      xScrolling = 280,
      disabledClass = "disabled";

  // START
  window.addEventListener("load", init);

  function init() {
    setEqualHeights(elH);
    animateTl(xScrolling, arrows, timeline);
    setSwipeFn(timeline, arrowPrev, arrowNext);
    setKeyboardFn(arrowPrev, arrowNext);
  }

  // SET EQUAL HEIGHTS
  function setEqualHeights(el) {
    var counter = 0;
    for (var i = 0; i < el.length; i++) {
      var singleHeight = el[i].offsetHeight;

      if (counter < singleHeight) {
        counter = singleHeight;
      }
    }

    for (var i = 0; i < el.length; i++) {
      el[i].style.height = counter + "px";
    }
  }

  // CHECK IF AN ELEMENT IS IN VIEWPORT
  // http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport
  function isElementInViewport(el) {
    var rect = el.getBoundingClientRect();
    return rect.top >= 0 && rect.left >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && rect.right <= (window.innerWidth || document.documentElement.clientWidth);
  }

  // SET STATE OF PREV/NEXT ARROWS
  function setBtnState(el) {
    var flag = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];

    if (flag) {
      el.classList.add(disabledClass);
    } else {
      if (el.classList.contains(disabledClass)) {
        el.classList.remove(disabledClass);
      }
      el.disabled = false;
    }
  }

  // ANIMATE TIMELINE
  function animateTl(scrolling, el, tl) {
    var counter = 0;
    for (var i = 0; i < el.length; i++) {
      el[i].addEventListener("click", function () {
        if (!arrowPrev.disabled) {
          arrowPrev.disabled = true;
        }
        if (!arrowNext.disabled) {
          arrowNext.disabled = true;
        }
        var sign = this.classList.contains("arrow__prev") ? "" : "-";
        if (counter === 0) {
          tl.style.transform = "translateX(-" + scrolling + "px)";
        } else {
          var tlStyle = getComputedStyle(tl);
          // add more browser prefixes if needed here
          var tlTransform = tlStyle.getPropertyValue("-webkit-transform") || tlStyle.getPropertyValue("transform");
          var values = parseInt(tlTransform.split(",")[4]) + parseInt("" + sign + scrolling);
          tl.style.transform = "translateX(" + values + "px)";
        }

        setTimeout(function () {
          isElementInViewport(firstItem) ? setBtnState(arrowPrev) : setBtnState(arrowPrev, false);
          isElementInViewport(lastItem) ? setBtnState(arrowNext) : setBtnState(arrowNext, false);
        }, 1100);

        counter++;
      });
    }
  }

  // ADD SWIPE SUPPORT FOR TOUCH DEVICES
  function setSwipeFn(tl, prev, next) {
    var hammer = new Hammer(tl);
    hammer.on("swipeleft", function () {
      return next.click();
    });
    hammer.on("swiperight", function () {
      return prev.click();
    });
  }

  // ADD BASIC KEYBOARD FUNCTIONALITY
  function setKeyboardFn(prev, next) {
    document.addEventListener("keydown", function (e) {
      if (e.which === 37 || e.which === 39) {
        var timelineOfTop = timeline.offsetTop;
        var y = window.pageYOffset;
        if (timelineOfTop !== y) {
          window.scrollTo(0, timelineOfTop);
        }
        if (e.which === 37) {
          prev.click();
        } else if (e.which === 39) {
          next.click();
        }
      }
    });
  }
})();
    </script>

</body>
</html>
